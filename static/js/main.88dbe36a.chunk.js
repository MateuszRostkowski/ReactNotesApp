(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{203:function(e,t){},416:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(8),r=n.n(o),l=(n(79),n(80),n(11)),i=n(2),s=n(1),u=n(67),m=n(68),d=n.n(m),f=n(69),b=n.n(f),v=function(e){var t=e.value,n=e.language;return c.a.createElement(b.a,{language:n},t)},E=n(70),g=n.n(E),p=function(){var e=localStorage.getItem("note_lists")||"[]";return JSON.parse(e)},O=document.getElementById("modal-root"),h=function(e){var t=e.children;return Object(a.useEffect)((function(){return O.classList.add("shown"),function(){O.classList.remove("shown")}}),[]),r.a.createPortal(t,O)},j=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(i.g)().noteId,l=Object(i.f)().push,u=Object(a.useState)(r),m=Object(s.a)(u,2),d=m[0],f=m[1];Object(a.useEffect)((function(){f(r)}),[r]);var b=function(){o((function(e){return!e}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"note-settings",onClick:b},c.a.createElement("img",{src:g.a,alt:"React Logo",className:"cog-icon"})),n&&c.a.createElement(h,null,c.a.createElement("div",{className:"add-note-wrappper"},c.a.createElement("div",{className:"add-note-container"},c.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),b()}},"Close"),c.a.createElement("input",{value:d,onChange:function(e){return f(e.target.value)}}),c.a.createElement("div",{className:"mb"},c.a.createElement("button",{className:"button",onClick:function(){if(d)if("note_lists"!==d&&d!==N){var e=p().map((function(e){return e.name===r?{name:d}:e})),t=localStorage.getItem(r);if(console.log("newList",e,t),t){var n=JSON.parse(t),a=JSON.stringify({name:d,value:null===n||void 0===n?void 0:n.value});localStorage.setItem(d,a),localStorage.setItem("note_lists",JSON.stringify(e)),b()}l("/".concat(d)),localStorage.removeItem(r)}else alert("this name is not allowed");else b()}},"Edit note name")),c.a.createElement("button",{className:"button button-danger",onClick:function(){var e,t,n=p().filter((function(e){return e.name!==r}));localStorage.setItem("note_lists",JSON.stringify(n)),l("/".concat(null!==(e=null===(t=n[0])||void 0===t?void 0:t.name)&&void 0!==e?e:"")),localStorage.removeItem(r)}},"Delete note")),c.a.createElement("div",{onClick:b,className:"add-note-background"}))))},N="typing_mode",S=function(e,t){var n=e.getSelection();n.length>0&&("".concat(n.slice(0,2)).concat(n.slice(-2))===t+t?e.replaceSelection("".concat(n.slice(2).slice(0,-2))):e.replaceSelection("".concat(t).concat(n).concat(t)))},w={mode:"markdown",autofocus:!0,extraKeys:{"Cmd-B":function(e){return S(e,"**")},"Cmd-I":function(e){return S(e,"*")}}},k=function(e){var t=e.markdown,n=e.setMarkdown,a=e.sourcePosition,o=e.checked,r=e.children;return c.a.createElement("li",null,c.a.createElement("input",{type:"checkbox",checked:o,onClick:function(){try{var e=a.start.line-1,c=t.split("\n"),r=o?"- [x]":"- [ ]",l=o?"- [ ]":"- [x]";console.log({lineIndex:e,lines:c,find:r,replace:l}),c[e]=c[e].replace(r,l),n(c.join("\n"))}catch(i){console.warn("Error while filpin checkbox: ",i)}}}),r)},C=function(e){var t=e.noteId,n=localStorage.getItem(N),o="preview"===n?"preview":"edit"===n?"edit":"both",r=Object(a.useState)(o),l=Object(s.a)(r,2),i=l[0],m=l[1],f=Object(a.useState)(""),b=Object(s.a)(f,2),E=b[0],g=b[1],p=Object(a.useState)(""),O=Object(s.a)(p,2),h=O[0],S=O[1];Object(a.useEffect)((function(){localStorage.setItem(N,i)}),[i]),Object(a.useEffect)((function(){var e=localStorage.getItem(t);e&&(S(JSON.parse(e).name),g(JSON.parse(e).value))}),[t]),Object(a.useEffect)((function(){t&&E&&localStorage.setItem(t,JSON.stringify({name:h,value:E}))}),[E,t,h]);var C={listItem:function(e){var t=e.children;if("boolean"===typeof e.checked){var n=e.checked,a=e.sourcePosition;return c.a.createElement(k,{markdown:E,setMarkdown:g,checked:n,sourcePosition:a},t)}return c.a.createElement("li",null,t)},code:v};return c.a.createElement("div",{className:"note"},c.a.createElement(j,null),c.a.createElement("div",{className:"note-wrapper".concat("both"===i?" note-wrapper--both":"")},c.a.createElement("div",{className:"mode-buttons-container"},c.a.createElement("button",{className:"mode-button".concat("edit"===i?" mode-button-active":""),onClick:function(){return m("edit")}},"Edit"),c.a.createElement("button",{className:"mode-button".concat("preview"===i?" mode-button-active":""),onClick:function(){return m("preview")}},"Preview"),c.a.createElement("button",{className:"mode-button".concat("both"===i?" mode-button-active":""),onClick:function(){return m("both")}},"Both")),c.a.createElement("h1",{className:"note-title"},h),c.a.createElement("div",{className:"note-container"},("edit"===i||"both"===i)&&c.a.createElement("div",{className:"code-mirror-container"},c.a.createElement(u.Controlled,{value:E,options:w,onBeforeChange:function(e,t,n){console.log("xd",e),g(n)}})),("preview"===i||"both"===i)&&c.a.createElement("div",{className:"react-markdown-container markdown-body"},c.a.createElement(d.a,{renderers:C,source:E,rawSourcePos:!0,escapeHtml:!1})))))},I=n(72),y=function(e){var t=e.toggleMode,n=Object(i.f)().push,o=Object(a.useState)(""),r=Object(s.a)(o,2),l=r[0],u=r[1],m=Object(a.useRef)();Object(a.useEffect)((function(){var e;null===(e=m.current)||void 0===e||e.focus()}),[]);return c.a.createElement(h,null,c.a.createElement("div",{className:"add-note-wrappper"},c.a.createElement("div",{className:"add-note-container"},c.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),t()}},"Close"),c.a.createElement("input",{ref:function(e){return m.current=e},value:l,onChange:function(e){return u(e.target.value)}}),c.a.createElement("button",{className:"button",onClick:function(){if(l)if("note_lists"!==l&&l!==N){var e=p(),a=[{name:l}].concat(Object(I.a)(e));localStorage.setItem(l,JSON.stringify({name:l,value:""})),localStorage.setItem("note_lists",JSON.stringify(a)),n("/".concat(l)),t()}else alert("this name is not allowed");else t()}},"Add new note")),c.a.createElement("div",{onClick:t,className:"add-note-background"})))},J=n(418);var x=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)([]),u=Object(s.a)(r,2),m=u[0],d=u[1],f=Object(a.useState)("auto"),b=Object(s.a)(f,2),v=b[0],E=b[1],g=Object(a.useState)(!1),O=Object(s.a)(g,2),h=O[0],j=O[1],N=Object(a.useRef)(null),S=Object(i.g)().noteId;Object(a.useEffect)((function(){var e=p();d(e)}),[n,S]),Object(a.useEffect)((function(){var e,t;E(null!==(e=null===N||void 0===N||null===(t=N.current)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:"auto")}),[]);var w=function(){return o(!n)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sidebar-toggle".concat(h?" sidebar-toggle--opened":""),onClick:function(){return j(!h)}},c.a.createElement("span",{className:"burger-line burger-line-1"}),c.a.createElement("span",{className:"burger-line burger-line-1"}),c.a.createElement("span",{className:"burger-line burger-line-1"})),c.a.createElement(J.a,{in:h,timeout:200,classNames:"sidebar-wrapper"},c.a.createElement("div",{className:"sidebar-wrapper",ref:N},c.a.createElement("div",{className:"sidebar-container",style:{width:v}},c.a.createElement("h1",null,"Notes app"),c.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),w()}},"Add note"),c.a.createElement("div",{className:"links-container"},m.map((function(e,t){return c.a.createElement(l.b,{key:t,to:"/".concat(e.name),className:S===e.name?"active-item":""},e.name)})))))),n&&c.a.createElement(y,{toggleMode:w}))},_=function(){return c.a.createElement("div",{className:"error-container"},c.a.createElement("h1",null,"Nie znale\u017aono notatki"))},P=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){setTimeout((function(){o(!0)}),1e3)}),[]),c.a.createElement("div",{className:"empty-container"},c.a.createElement("h1",null,"You don't have any note"),c.a.createElement("p",{className:"add-new-info".concat(n?" add-new-info--shown":"")},"\u2190 Click here to add one"))},B=Object(a.createContext)({notes:[],currentNote:null});function M(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],r=n[1],l=Object(a.useState)(null),i=Object(s.a)(l,2),u=i[0],m=i[1];Object(a.useEffect)((function(){console.log("dupaaaa"),r([]),m(null)}),[]);return c.a.createElement(B.Provider,{value:{notes:o,currentNote:u}},e.children)}var D=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(!1),l=Object(s.a)(r,2),u=l[0],m=l[1],d=Object(i.g)().noteId,f=Object(a.useContext)(B).notes,b=Object(i.f)().push;return console.log(f),Object(a.useEffect)((function(){document.title=d||"notes";var e=p();e&&0!==e.length?(m(!1),!d&&e.length>0&&b("/".concat(e[0].name)),e.some((function(e){return e.name===d}))?o(!1):o(!0)):m(!0)}),[d,b]),c.a.createElement("div",{className:"home-container"},c.a.createElement(x,null),!n&&!u&&c.a.createElement(C,{key:d,noteId:d}),!n&&u&&c.a.createElement(P,null),n&&!u&&c.a.createElement(_,null))};function L(){return c.a.createElement(l.a,{basename:"/"},c.a.createElement("div",null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/:noteId",children:c.a.createElement(D,null)}),c.a.createElement(i.a,{path:"/"},c.a.createElement(D,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(410),n(411),n(412),n(66),n(413),n(415);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(M,null,c.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,n){e.exports=n.p+"static/media/Cog_font_awesome.69de4447.svg"},74:function(e,t,n){e.exports=n(416)},79:function(e,t,n){},80:function(e,t,n){}},[[74,1,2]]]);
//# sourceMappingURL=main.88dbe36a.chunk.js.map