(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{203:function(e,t){},416:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(8),r=a.n(o),l=(a(79),a(80),a(11)),i=a(1),s=a(2),u=a(67),m=a(68),d=a.n(m),f=a(69),v=a.n(f),b=function(e){var t=e.value,a=e.language;return c.a.createElement(v.a,{language:a},t)},E=a(70),g=a.n(E),p=function(){var e=localStorage.getItem("note_lists")||"[]";return JSON.parse(e)},O=document.getElementById("modal-root"),h=function(e){var t=e.children;return Object(n.useEffect)((function(){return O.classList.add("shown"),function(){O.classList.remove("shown")}}),[]),r.a.createPortal(t,O)},N=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(i.g)().noteId,l=Object(i.f)().push,u=Object(n.useState)(r),m=Object(s.a)(u,2),d=m[0],f=m[1];Object(n.useEffect)((function(){f(r)}),[r]);var v=function(){o((function(e){return!e}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"note-settings",onClick:v},c.a.createElement("img",{src:g.a,alt:"React Logo",className:"cog-icon"})),a&&c.a.createElement(h,null,c.a.createElement("div",{className:"add-note-wrappper"},c.a.createElement("div",{className:"add-note-container"},c.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),v()}},"Close"),c.a.createElement("input",{value:d,onChange:function(e){return f(e.target.value)}}),c.a.createElement("div",{className:"mb"},c.a.createElement("button",{className:"button",onClick:function(){if(d)if("note_lists"!==d&&d!==j){var e=p().map((function(e){return e.name===r?{name:d}:e})),t=localStorage.getItem(r);if(console.log("newList",e,t),t){var a=JSON.parse(t),n=JSON.stringify({name:d,value:null===a||void 0===a?void 0:a.value});localStorage.setItem(d,n),localStorage.setItem("note_lists",JSON.stringify(e)),v()}l("/".concat(d)),localStorage.removeItem(r)}else alert("this name is not allowed");else v()}},"Edit note name")),c.a.createElement("button",{className:"button button-danger",onClick:function(){var e,t,a=p().filter((function(e){return e.name!==r}));localStorage.setItem("note_lists",JSON.stringify(a)),l("/".concat(null!==(e=null===(t=a[0])||void 0===t?void 0:t.name)&&void 0!==e?e:"")),localStorage.removeItem(r)}},"Delete note")),c.a.createElement("div",{onClick:v,className:"add-note-background"}))))},j="typing_mode",S=function(e,t){var a=e.getSelection();a.length>0&&("".concat(a.slice(0,2)).concat(a.slice(-2))===t+t?e.replaceSelection("".concat(a.slice(2).slice(0,-2))):e.replaceSelection("".concat(t).concat(a).concat(t)))},w={mode:"markdown",autofocus:!0,extraKeys:{"Cmd-B":function(e){return S(e,"**")},"Cmd-I":function(e){return S(e,"*")}}},k=function(e){var t=e.noteId,a=localStorage.getItem(j),o="preview"===a?"preview":"edit"===a?"edit":"both",r=Object(n.useState)(o),l=Object(s.a)(r,2),i=l[0],m=l[1],f=Object(n.useState)(""),v=Object(s.a)(f,2),E=v[0],g=v[1],p=Object(n.useState)(""),O=Object(s.a)(p,2),h=O[0],S=O[1];return Object(n.useEffect)((function(){localStorage.setItem(j,i)}),[i]),Object(n.useEffect)((function(){var e=localStorage.getItem(t);e&&(S(JSON.parse(e).name),g(JSON.parse(e).value))}),[t]),Object(n.useEffect)((function(){t&&E&&localStorage.setItem(t,JSON.stringify({name:h,value:E}))}),[E,t,h]),c.a.createElement("div",{className:"note"},c.a.createElement(N,null),c.a.createElement("div",{className:"note-wrapper".concat("both"===i?" note-wrapper--both":"")},c.a.createElement("div",{className:"mode-buttons-container"},c.a.createElement("button",{className:"mode-button".concat("edit"===i?" mode-button-active":""),onClick:function(){return m("edit")}},"Edit"),c.a.createElement("button",{className:"mode-button".concat("preview"===i?" mode-button-active":""),onClick:function(){return m("preview")}},"Preview"),c.a.createElement("button",{className:"mode-button".concat("both"===i?" mode-button-active":""),onClick:function(){return m("both")}},"Both")),c.a.createElement("h1",{className:"note-title"},h),c.a.createElement("div",{className:"note-container"},("edit"===i||"both"===i)&&c.a.createElement("div",{className:"code-mirror-container"},c.a.createElement(u.Controlled,{value:E,options:w,onBeforeChange:function(e,t,a){console.log("xd",e),g(a)}})),("preview"===i||"both"===i)&&c.a.createElement("div",{className:"react-markdown-container markdown-body"},c.a.createElement(d.a,{renderers:{code:b},source:E,escapeHtml:!1})))))},C=a(72),I=function(e){var t=e.toggleMode,a=Object(i.f)().push,o=Object(n.useState)(""),r=Object(s.a)(o,2),l=r[0],u=r[1];return c.a.createElement(h,null,c.a.createElement("div",{className:"add-note-wrappper"},c.a.createElement("div",{className:"add-note-container"},c.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),t()}},"Close"),c.a.createElement("input",{value:l,onChange:function(e){return u(e.target.value)}}),c.a.createElement("button",{className:"button",onClick:function(){if(l)if("note_lists"!==l&&l!==j){var e=p(),n=[{name:l}].concat(Object(C.a)(e));localStorage.setItem(l,JSON.stringify({name:l,value:""})),localStorage.setItem("note_lists",JSON.stringify(n)),a("/".concat(l)),t()}else alert("this name is not allowed");else t()}},"Add new note")),c.a.createElement("div",{onClick:t,className:"add-note-background"})))},y=a(418);var J=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)([]),u=Object(s.a)(r,2),m=u[0],d=u[1],f=Object(n.useState)("auto"),v=Object(s.a)(f,2),b=v[0],E=v[1],g=Object(n.useState)(!1),O=Object(s.a)(g,2),h=O[0],N=O[1],j=Object(n.useRef)(null),S=Object(i.g)().noteId;Object(n.useEffect)((function(){var e=p();d(e)}),[a,S]),Object(n.useEffect)((function(){var e,t;E(null!==(e=null===j||void 0===j||null===(t=j.current)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:"auto")}),[]);var w=function(){return o(!a)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sidebar-toggle".concat(h?" sidebar-toggle--opened":""),onClick:function(){return N(!h)}},c.a.createElement("span",{className:"burger-line burger-line-1"}),c.a.createElement("span",{className:"burger-line burger-line-1"}),c.a.createElement("span",{className:"burger-line burger-line-1"})),c.a.createElement(y.a,{in:h,timeout:200,classNames:"sidebar-wrapper"},c.a.createElement("div",{className:"sidebar-wrapper",ref:j},c.a.createElement("div",{className:"sidebar-container",style:{width:b}},c.a.createElement("h1",null,"Notes app"),c.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),w()}},"Add note"),c.a.createElement("div",{className:"links-container"},m.map((function(e,t){return c.a.createElement(l.b,{key:t,to:"/".concat(e.name),className:S===e.name?"active-item":""},e.name)})))))),a&&c.a.createElement(I,{toggleMode:w}))},_=function(){return c.a.createElement("div",{className:"error-container"},c.a.createElement("h1",null,"Nie znale\u017aono notatki"))},B=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){setTimeout((function(){o(!0)}),1e3)}),[]),c.a.createElement("div",{className:"empty-container"},c.a.createElement("h1",null,"You don't have any note"),c.a.createElement("p",{className:"add-new-info".concat(a?" add-new-info--shown":"")},"\u2190 Click here to add one"))};var x=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),l=Object(s.a)(r,2),u=l[0],m=l[1],d=Object(i.g)().noteId,f=Object(i.f)().push;return Object(n.useEffect)((function(){document.title=d||"notes";var e=p();e&&0!==e.length?(m(!1),!d&&e.length>0&&f("/".concat(e[0].name)),e.some((function(e){return e.name===d}))?o(!1):o(!0)):m(!0)}),[d,f]),c.a.createElement("div",{className:"home-container"},c.a.createElement(J,null),!a&&!u&&c.a.createElement(k,{key:d,noteId:d}),!a&&u&&c.a.createElement(B,null),a&&!u&&c.a.createElement(_,null))};function D(){return c.a.createElement(l.a,{basename:"/"},c.a.createElement("div",null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/:noteId",children:c.a.createElement(x,null)}),c.a.createElement(i.a,{path:"/"},c.a.createElement(x,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(410),a(411),a(412),a(66),a(413),a(415);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a.p+"static/media/Cog_font_awesome.69de4447.svg"},74:function(e,t,a){e.exports=a(416)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.65eceb2f.chunk.js.map